import qrcode
import os

# Base URL for GitHub Pages
BASE_URL = "https://mcdca.github.io/mrsmac/"

# Page data already defined
pages = [
    {"title": "Pink Group", "filename": "pink-group.html"},
    {"title": "Green Group", "filename": "green-group.html"},
    {"title": "Purple Group", "filename": "purple-group.html"},
    {"title": "Pink Group Page 2", "filename": "pink-group-page-2.html"},
    {"title": "Orange Group", "filename": "orange-group.html"},
    {"title": "Yellow Group", "filename": "yellow-group.html"},
    {"title": "Blue Group", "filename": "blue-group.html"},
    {"title": "Grey Group", "filename": "grey-group.html"},
    {"title": "EYFS Week 1 Phonics", "filename": "eyfs-week-1-phonics.html"},
]

# ðŸŽ¨ HTML Template for homepage
def make_index_html(pages):
    html = """<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Phonics Hub - Special Friends</title>
<style>
body { font-family:Trebuchet MS, Arial,sans-serif; background:#f9f9ff; margin:0; padding:20px; color:#333; }
header { background:#4a90e2; color:#fff; text-align:center; padding:15px; border-radius:8px; }
h1 { margin:0; font-size:2em; }
ul { list-style:none; padding:0; margin-top:30px; }
li { margin:15px 0; }
a { text-decoration:none; background:#ffd54f; padding:15px 20px; border-radius:8px; color:#333; font-weight:bold; font-size:1.1em; display:inline-block; width:260px; text-align:center; }
a:hover { background:#ffca28; }
footer { margin-top:40px; text-align:center; color:#777; font-size:0.9em; }
</style>
</head><body>
<header><h1>Phonics Hub - Special Friends</h1></header>
<main>
<p style="text-align:center;">Click a group below to begin:</p>
<ul style="text-align:center;">
"""
    for page in pages:
        url = f"{page['filename']}"
        html += f'<li><a href="{url}">{page["title"]}</a></li>\n'
    html += """</ul>
</main>
<footer>
<p>Created for learning with Set 1/2/3 - Special Friends ðŸ‘« ðŸ“˜</p>
</footer>
</body></html>
"""
    return html


# Write index.html
with open("index.html", "w", encoding="utf-8") as f:
    f.write(make_index_html(pages))
print("âœ… Wrote homepage: index.html")

# Make QR folder
os.makedirs("qr-codes", exist_ok=True)

# Generate QR for homepage
home_url = f"{BASE_URL}index.html"
img = qrcode.make(home_url)
img.save("qr-codes/index-home.png")
print(f"ðŸ“± QR saved qr-codes/index-home.png â†’ {home_url}")
